# 1. 통계 개요

## 1. 통계와 표본조사
### 통계의 이해
- 통계란 분석하고자 하는 집단에 대해서 조사하거나 실험을 통해서 얻는 자료 또는 이의 요약된 형태를 말한다.
- 통계학이란 불확실한 상황에서 효과적인 의사결정을 할 수 있도록 수치자료를 수집하고, 정리하고, 표현하고, 분석하는 이론과 방법을 연구하는 학문이다.
- 통계분석이란 특정집단을 대상으로 자료를 수집하여 대상집단에 대한 정보를 구하고, 적절한 통계분석 방법을 이용하여 의사결정(통계적 추론)을 하는 과정을 말한다.

### 표본조사
- 어떤 특정한 모집단 '한국의 대학생'에 대해 통계분석을 한다고 가정해보자. 모집단인 '한국의 대학생'은 규모가 매우 클뿐더러 전수조사도 거의 불가능하다.
- 그렇기 때문에 이 모집단인 '한국의 대학생'을 대표할 수 있는 표본집단을 선별하여 표본조사를 실시한다. 이때 선별한 표본집단은 반드시 '한국의 대학생'을 대표할 수 있는 집단이여야 한다. 이를 표본의 대표성이라 한다.
- 표본의 대표성을 신뢰할 수 있어야 표본조사를 통한 모집단의 통계분석 결과 또한 신뢰할 수 있다. 따라서 이 표본을 어떻게 추출할 것인지에 관한 방법은 매우 중요하다.

## 2. 표본 추출 방법
### 단순 랜덤 추출법
- 표본추출 방법 중 가장 쉽고 단순한 방법으로, N개의 모집단에서 n개의 데이터를 무작위로 추출하는 방법이다.
- 사다리 타기 혹은 제비뽑기와 같은 방법으로도 표본의 추출이 가능하다.

### 계통 추출법
- 모집단의 원소에 차례대로 번호를 부여한 뒤 일정한 간격을 두고 데이터를 추출하는 방법이다.
- N개의 모집단에서 K개씩(K=N/n) n개의 구간으로 나눈다.
- 첫 구간에서(1, 2, 3 ..., K개의 구간) 하나를 임의로 선택하고 K개씩 띄어서 표본을 추출한다.

### 집락(군집: Cluster) 추출법
- 데이터를 여러 집락으로 구분한 뒤, 단순 랜덤 추출법에 의하여 선택된 집락의 데이터를 표본으로 사용하는 방법이다.
- 각 집락은 서로 동질적이며, 집락 내 데이터는 서로 이질적이다.

### 층화 추출법
- 집락 추출법과 유사하나 반대의 성격을 지닌 추출방법이다.
- 데이터를 여러 집락으로 구분하지만 각 집락은 서로 이질적이며, 군집 내 데이터들은 서로 동질적이다.
- 집락을 나눈 뒤, 각 집락에서 원하는 개수의 데이터를 추출하여 추출된 데이터에 대하여 표본조사를 실시한다.
- 집락별로 추출되는 데이터의 비율을 어떻게 정할 것인지에 따라 비례 층화 추출법과 불비례 층화 추출법으로 나눌 수 있다.
    - 비례 층화 추출법
        - 전체 데이터의 분포를 반영하여 각 군집별 데이터를 추출하는 방법
    - 불비례 층화 추출법
        - 전체 데이터의 분포를 반영하지 않고 각 군집에서 원하는 개수의 데이터를 추출하는 방법으로, 원하는 군집에서 원하는 표본의 개수를 추출한다.

### 복원 추출과 비복원 추출
- 표본을 추출할 때 가장 크게 나누는 것이 복원 추출과 비복원 추출이다.
- 복원 추출은 표본으로 뽑힌 데이터가 다시 모집단으로 들어가 한 번 더 추출될 수 있는 것을 의미한다.
- 비복원 추출은 한번 뽑힌 데이터는 모집단에서 제외되어 다시 추출될 수 없는 것을 의미한다.

## 3. 측정과 척도
### 측정과 척도의 개념
- 측정: 표본 조사를 실시하는 경우 추출된 원소들이나 실험 단위로부터 주어진 목적에 적합하게 관측해 자료를 얻는 것
- 척도: 관측 대상의 속성을 측정하여 그 값이 숫자로 나타나도록 일정한 규칙을 정하여 바꾸는 도구

### 척도의 종류
- 질적 척도
    - 명목척도: 측정 대상이 어느 집단에 속하는지 나타내는 자료
        - ex. 성별, 지역 등
    - 순서척도(서열척도): 측정 대상이 명목척도이면서 서열 관계를 갖는 자료
        - ex. 선호도, 신용도, 학년 등

- 양적 척도
    - 구간척도(등간척도): 측정 대상이 가지고 있는 속성의 양을 측정할 수 있으며 두 구간 사이에 의미가 있는 자료
        - ex. 온도, 지수 등
    - 비율척도: 측정 대상이 구간척도이면서 절대적 기준 0이 존재하여 사칙연산이 가능한 자료
        - ex. 신장, 무게, 점수, 가격 등

## 4. 기술통계와 추리통계
### 기술통계
- 기술통계는 표본 자체의 속성이나 특징을 파악하는데 중점을 두는 데이터 분석 통계다. 자료를 요약하고 조직화, 단순화하는데 그 목적이 있다.
- 표본조사 이후 표본을 설명해주는 데이터의 최솟값, 최댓값, 중위수 등의 통계량이 바로 기술 통계량이며, 모집단의 특성을 유추하는데 사용할 수 있다.

### 추리통계(추론통계)
- 추리통계(추론통계)는 수집한 데이터를 바탕으로 '추론 및 예측'하는 통계 기법을 의미한다.
- 추론통계는 표본에서 얻은 통계치를 바탕으로 오차를 고려하면서 모수를 확률적으로 추정하는 통계 기법이다.
- 추론통계는 표보에서 얻은 통계치를 가지고 모집단의 특성을 추정하는데 초점을 두고 가설을 검증하거나 확률적인 가능성을 파악한다. 이를 통해 향후 발생할 수 있는 사건을 예측할 수 있다.


# 2. 확률과 확률분포
## 1. 확률
### 확률 기초
- 확률: 발생가능한 모든 사건들의 집합 표본공간에서 표본공간의 부분집합인 특정 사건 A가 발생할 수 있는 비율을 나타내는 값으로 0과 1 사이의 값이며, 가능한 모든 사건의 확률의 합은 항상 1이다.
$$ 
P(A) = \frac{특정 사건 A의 개수}{전체 사건의 개수(표본공간)}
$$

- 조건부 확률: 특정 사건 A가 발생했다는 것이 사실이라는 전제하에 또 다른 사건 B가 발생할 확률을 나타낸 값으로, 0과 1 사이의 값을 갖는다.
$$
P(B|A) = \frac{P(B \cap A)}{P(A)}
$$

### 독립사건과 배반사건
- 독립사건: 주사위를 2번 던지는 시행에서 첫 번째로 나오는 눈의 수가 두 번째 주사위에 영향을 주지 않는 것처럼 서로에게 영향을 주지 않는 두 개의 사건을 독립이라고 한다.
- 조건부 확률에서 두 사건 A와 B가 독립인 경우에는 A가 발생했을 때를 가정하더라도 B의 확률은 변하지 않기 때문에 다음의 식이 성립한다.
$$
P(B|A) = P(B)
$$
- 따라서 두 사건 A와 B가 독립이라면 아래 식이 성립한다.
$$
P(B \cap A) = P(A)P(B)
$$
- 배반사건: 두 사건 A와 B에 대하여 교집합, 즉 공통된 부분이 없는 경우 즉, 동시에 일어날 수 없는 사건을 배반사건이라 하며 아래 식으로 표현한다.
$$
A \cap B = \phi
$$

### 확률변수와 확률분포 그리고 확률함수
- 확률변수: 무작위 실험을 했을 때 특정 확률로 발생하는 각각의 결과를 수치적 값으로 표현하는 변수를 확률변수라 한다.
  - 예컨대 두 번 연속으로 동전 던지기 실험에서 동전의 앞면 혹은 뒷면이 나올 확률을 가지고 발생하는 결과에 앞면일 경우 '1', 뒷면일 경우 '0'이라는 실수값을 부여할 때, 바로 그 실수값에 부여하는 변수를 확률변수라 한다.
  - 확률 변수는 다시 변수의 특성에 따라 이산확률변수와 연속확률변수로 구분된다.
- 확률분포: 확률변수의 모든 값과 그에 대응하는 확률이 어떻게 분포하고 있는지가 바로 확률분포다. 이때 확률변수에 의해 정의된 실수를 대응시키는 함수를 확률함수라 한다.
  - 이산확률분포의 확률함수를 '확률질량함수', 연속확률분포의 함수를 '확률밀도함수'라 한다.

## 2. 이산확률분포
### 1. 베르누이 분포
- 확률변수 X가 취할 수 있는 값이 두 개인 경우로 일반적으로 한 번의 시행을 할 때 성공과 실패로 나눌 수 있는 성공할 확률이 $p$인 분포를 의미한다.
- 하나의 동전을 던져서 앞면이 나올 확률, 제비뽑기에서 당첨될 확률, 시험에 합격하거나 혹은 불합격할 확률 등을 예로 들수 있다.
$$
P(X = x) = p^x(1-p)^{1-x} \;(단, x=0, 1) \\
E(X) = p \\
Var(X) = p(1-p)
$$

### 2. 이항 분포
- 이항 분포는 n번의 베르누이 시행(성공 또는 실패)에서 k번 성공할 확률의 분포를 의미한다.
- 하나의 동전을 3번 던져서 앞면이 2번 나올 확률, 하나의 주사위를 5번 던져서 1이 한 번 나올 확률, 3번의 제비뽑기에서 1번 당첨될 확률 등을 예로 들 수 있다.
$$
P(X = k) = \begin{pmatrix} n \\ k \end{pmatrix} p^k(1-p)^{n-k} \; (단, x=0,1,2,...,n) \\
E(X) = np \\
Var(X) = np(1-p)
$$

### 3, 기하 분포
- 성공 확률이 p인 베르누이 시행에서 처음으로 성공이 나올 때까지 k번 실패한 확률의 분포를 의미한다.
- 동전을 던져서 3번째에 앞면이 나올 확률, 주사위를 던져서 4번째에 1이 나올 확률, 제비뽑기를 복원 추출로 시행할 때 5번째에 당첨될 확률 등을 예로 들 수 있다.

$$
P(X = k) = p(1-p)^k \; (단, k = 0,1,2,...,n) \\
E(X) = \frac{1}{p} \\
Var(X) = \frac{1-p}{p^2}
$$

### 4. 다항 분포
- 이항 분포를 확장한 개념으로, n번의 시행에서 각 시행이 3개 이상의 결과를 가질 수 있는 확률의 분포를 의미한다.
- 주사위를 n번 던졌을 때 1의 눈이 $p_1$의 확률로 $x$번, 2의 눈이 $p_2$의 확률로 $y$번, 3이상의 눈이 $p_3$의 확률로 $z$번 나올 확률 등을 예로 들 수 있다.

$$
P(X=x, Y=y, Z=z) = \frac{n!}{x!y!z!}p^x_1p^y_2p^z_3 \; (단, x+y+z=n)
$$

### 5. 포아송 분포
- 단위 시간 또는 단위 공간 내에서 발생할 수 있는 사건의 발생 횟수에 대한 확률분포를 의미한다.
- 8시간 동안 3번의 장난전화가 왔을 때 1시간 동안 장난전화가 2번 올 확률, 5페이지 안에 3개의 오타가 있다면 1페이지 안에 2개의 오타가 있을 확률 등을 예로 들 수 있다.

$$
P(X = x) = \frac{e^{-\lambda}\lambda ^x}{x!} \\
(단, \lambda 는 단위 시간 또는 공간당 사건 발생 비율) \\
E(X) = \lambda \\
Var(X) = \lambda 
$$

### 6. 이산확률변수
- 확률변수가 취할 수 있는 실수 값의 수를 셀 수 있는 변수를 이산확률변수라 한다.
- 이산확률변수는 셀 수 있는 실수 값을 취한다.
- 서로 배반인 사건들의 합집합의 확률은 각 사건의 확률의 합이다.
$$
0 \leq p(X) \leq 1 \\
\sum p(X) = 1
$$


## 3. 연속확률분포
### 1. 균일 분포
- 균일 분포는 연속형 확률변수인 X가 취할 수 있는 모든 값에 대하여 같은 확률을 갖고 있는 분포를 의미한다.
- 얼마나 들어있는지 모르는 200ml 우유팩 속에 들어있는 우유의 양 등과 같은 것을 예로 들 수 있다.
$$
E(X) = \frac{a + b}{2} \\
Var(X) = \frac{(b-a)^2}{12}
$$

### 2. 정규분포
- 정규분포는 가장 대표적인 연속형 확률분포 중 하나로 평균이 $\mu$이고, 표준편차가 $\sigma$인 분포를 의미한다.
- 한 학교의 1학년 수학 점수의 분포, 전국 남성의 키 등과 같은 것을 예로 들 수 있다.
- 분포의 모양은 평균값에 가장 많이 몰려 있고 평균에서 멀어질수록 빈도수가 낮은 종 모양의 그래프를 갖는다.
$$
X \sim N(\mu, \sigma ^2) \\
f(x) = \frac{1}{\sigma \sqrt {2\pi}}e^{-\frac{(x-\mu)^2}{2\sigma ^2}}
$$

#### 표준정규분포
- 정규분포는 평균 $\mu$와 표준편차 $\sigma$에 의하여 다양한 모양을 가질수 있기 때문에 확률변수가 일정범위 내에 포함될 확률을 매번 계산해야 하는 번거로움이 발생한다.
- 이러한 문제를 해결하기 위해 등장한 것이 표준정규분포다.
- 표준정규분포는 평균이 0, 표준편차가 1인 정규분포를 의미하며, 아래 식을 통하여 정규분포를 따르는 확률변수 X를 표준정규분포를 따르는 확률변수 Z로 변환할 수 있다. 이 작업을 표준화라 한다. 표준화된 확률 분포는 표준정규분포 표를 활용하여 쉽게 확률 값을 구할 수 있다.
$$
Z = \frac{X-\mu}{\sigma} \sim N(0,1^2)
$$

### 3. t-분포
- 자유도가 n인 t 분포는 표준정규분포와 마찬가지로 평균이 0이고 좌우가 대칭인 종 모양의 그래프지만 정규분포보다 두꺼운 꼬리를 갖는다.
- 표준정규분포를 활용하여 모평균(모수)을 추정하기 위해서는 모표준편차를 사전에 알고 있어야 한다. 그러나 현실적으로 모표준편차를 모르기 때문에 t-분포를 이용하여 모평균 검정 또는 두 집단의 평균이 동일한지 계산하기 위한 검정통계량으로 활용된다.
- 자유도가 커질수록 t-분포는 표준정규분포에 가까워진다.

#### 자유도
- 자유도는 표본자료들이 모집단에 대한 정보를 주는 독립적인 자료의 개수를 의미한다.
- 예를 들어, 의자 4개와 사람 4명이 있을 때 앞의 3명까지는 원하는 빈자리를 찾아 앉을 수 있다. 하지만 마지막 사람은 선택권이 없이 남은 빈자리에 앉을 수 밖에 없다. 따라서 자유도는 4명에서 하나 적은 3이 된다.

### 4, 카이제곱 분포
- 표준정규분포를 따르는 확률변수 $Z_1, Z_2, Z_3, ... , Z_n$의 제곱의 합 X는 자유도가 n인 카이제곱 분포를 따른다.
- 카이제곱 분포는 모평군과 모분산을 모르는 두 개 이상의 집단 간 동질성 검정 또는 모분산 검정을 위해 활용된다.
- 동질성 검정: 두 집단의 내부 구성비를 비교하는 것

### 5. F 분포
- 서로 독립인 두 카이제곱 분포를 따르는 확률변수 $V_1 \sim x^2 (k_1), V_2 \sim x^2 (k_2)$를 각각의 자유도로 나누었을 때 서로의 비율 X는 자유도가 $k_1, k_2$인 F 분포를 따른다.
- F 분포는 등분산 검정 및 분산분석을 위해 활용된다.
- 등분산 검정: 가설검정을 수행하는 환경에 따라 두 모집단에 대한 평균을 비교할 때 분산의 동등 여부는 중요하며, 두 모집단의 분산이 같은 경우와 다른 경우의 모평균을 비교하는 방법이 다르다. 따라서 등분산 검정은 두 모집단에 대하여 분산이 같은지 다른지를 검정하기 위한 가설검정이다.

### 6. 연속확률변수
- 확률변수가 취할 수 있는 실수 값이 어떤 특정 구간 전체에 해당하여 그 수를 셀 수 없는 변수를 연속확률변수라 한다.
- 연속확률변수에는 확률밀도함수의 아래 면적이 확률을 의미한다.
- 연속확률변수의 예: 신생아의 몸무게, 태풍으로 내린 강우량, 심장발작 이후 생존기간 등

$$
\int ^\infty _{-\infty} f(x)dx=1 \\
p(X=a)=0 \\
P(a \leq X \leq b) = \int ^b _a f(x)dx
$$

## 4. 기댓값, 분산, 표준편차
### 1. 기댓값
- 특정 사건이 시행되었을 때 확률변수 X가 취할 수 있는 값의 평균 값을 의미한다.
- 확률변수 X의 값과 그 X가 발생할 확률들의 곱들의 합으로 구할 수 있다.
- 관측될 것이라고 기대되는 관측값에 대한 평균이므로 기댓값이라고 하며, 확률변수의 평균, 즉 모평균은 통계분석에서 중요한 추론의 대상이다.
$$
이산확률변수의 기댓값: E(X) = \sum xf(x) \\
연속확률변수의 기댓값: E(X) = \int xf(x)dx
$$

### 2. 분산
- 분산; 데이터들이 중심에서 얼마나 떨어져 있는지를 알아보기 위한 측도다.
  - 관측값에서 평균을 뺀 값을 제곱하고, 그것을 모두 더한 후 전체 개수로 나눠서 구한다. 즉, 차이값의 제곱의 평균이다.
- 확률변수의 분산: 확률변수가 취할 수 있는 값들이 그 중심(모평균)에서 얼마나 떨어져 있는지를 측정하는 측도다. 값이 크면 클수록 확률 X값이 기댓값에서 멀리 떨어져 있을 수 있다.
- 확률 변수의 분산은 확률변수의 평균과 마찬가지로 이미 측정되어 있는 값에 대한 것이 아니고 앞으로 측정 또는 관측될 가능성이 있는 값들에 대한 측도다.

$$
이산확률변수의 분산: Var(X) = E[(X-E(X))^2] - E(X)^2 \\
연속확률변수의 분산: Var(X) = \int (x-E(X))^2 f(x)dx = \int x^2 f(x)dx-(\int xf(x)dx)^2
$$

### 3. 표준편차
- 자료의 산포도를 나타내는 수치로, 분산의 양의 제곱근으로 정의된다. 제곱해서 값이 부풀려진 분산을 제곱근해서 다시 원래 크기로 만들어준다.
- 분산과 같이 값이 클수록 기댓값으로부터 멀리 떨어져 있다는 의미다.
- 표준편차의 사용 목적은 기존 자료와의 단위 통일이다.

$$
이산확률변수 및 연속확률변수의 표준편차: sd(X) = \sqrt{Var(X)}
$$

## 5. 꼭 알아두어야 하는 통계 개념
### 1. 첨도와 왜도
- 첨도: 첨도(kurtosis)는 확률분포의 뾰족한 정도를 나타내는 측도로서 값이 3에 가까울수록 정규분포 모양을 갖는다.
  - 첨도값은 3을 기준으로 뾰족한 정도를 나타내지만 정규부노의 첨도를 0으로 나타내기 위해 첨도값에서 3을 빼서 사용하기도 한다.
- 왜도: 왜도(skewness)는 확률분포의 비대칭 정도를 나타내는 측도로, 왜도값이 0인 경우에는 정규분포와 유사한 모습으로 평균, 중앙값, 최빈값이 모두 같다.
$$
왜도\,값(\gamma) < 0 : 평균 < 중앙값 < 최빈값 \\
왜도\,값(\gamma) > 0 : 최빈값 < 중앙값 < 평균
$$

### 2. 공분산
- 공분산(Covariance)은 두 확률변수 X, Y의 상관 정도를 나타내는 값으로, 하나의 확률변수가 증가할 때 다른 확률변수가 증가하는지 혹은 감소하는지를 알 수 있다.
- 공분산이 양수면 X가 증가할 때 Y도 증가하며, 공분산이 음수면 X가 증가할 때 Y는 감소한다.
- 그러나 공분산에는 문제점이 하나 있다. 공분산 값이 100이라는 양숫값을 갖는다면 X, Y의 두 확률의 분포가 어느 정도의 선형성을 갖는지 알 수 없다는 점이다.
$$
Cov(X, Y) = E[(X-\mu_x)(Y-\mu_y)]
$$

### 3. 상관계수
- 상관계수(Correlation)는 공분산의 문제를 해결한 값으로, -1과 1사이의 값을 가지며 공분산을 X의 표준편차와 Y의 표준편차 모두로 나눈 값이다.
$$
r_(xy) = \frac{Cov(X, Y)}{\sigma_x \sigma_y}
$$